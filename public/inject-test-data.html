<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DORA 테스트 데이터 주입 도구</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            color: #333;
        }
        h1, h2, h3 {
            color: #1a73e8;
        }
        .card {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        .button {
            background-color: #1a73e8;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin-right: 10px;
        }
        .button:hover {
            background-color: #1557b0;
        }
        .success {
            color: #0d904f;
            font-weight: bold;
        }
        .error {
            color: #d93025;
            font-weight: bold;
        }
        .output {
            background-color: #f1f3f4;
            border-radius: 4px;
            padding: 15px;
            margin-top: 15px;
            font-family: monospace;
            white-space: pre-wrap;
            display: none;
        }
        .repo-info {
            margin-top: 30px;
        }
        .repo-card {
            background-color: white;
            border: 1px solid #dadce0;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            text-align: left;
            padding: 8px;
            border-bottom: 1px solid #ddd;
        }
        th {
            background-color: #f1f3f4;
        }
    </style>
</head>
<body>
    <div class="card">
        <h1>DORA 테스트 데이터 주입 도구</h1>
        <p>이 도구는 GitHub API 호출 없이 로컬 테스트를 수행할 수 있도록 미리 계산된 테스트 데이터를 로컬 스토리지에 주입합니다.</p>
        
        <div>
            <button id="injectDataBtn" class="button">테스트 데이터 주입하기</button>
            <button id="clearCacheBtn" class="button" style="background-color: #d93025;">캐시 비우기</button>
        </div>
        
        <div id="outputContainer" class="output"></div>
    </div>
    
    <div class="repo-info">
        <h2>사용 가능한 테스트 저장소</h2>
        
        <div class="repo-card">
            <h3>n8n-io/n8n</h3>
            <table>
                <tr>
                    <th>측정 항목</th>
                    <th>값</th>
                </tr>
                <tr>
                    <td>Lead Time for Changes</td>
                    <td>45.7시간 (약 1.9일)</td>
                </tr>
                <tr>
                    <td>Deployment Frequency</td>
                    <td>0.8회/일 (거의 매일)</td>
                </tr>
                <tr>
                    <td>Change Failure Rate</td>
                    <td>6%</td>
                </tr>
                <tr>
                    <td>Mean Time to Restore</td>
                    <td>2.5시간</td>
                </tr>
            </table>
        </div>
        
        <div class="repo-card">
            <h3>docmost/docmost</h3>
            <table>
                <tr>
                    <th>측정 항목</th>
                    <th>값</th>
                </tr>
                <tr>
                    <td>Lead Time for Changes</td>
                    <td>38.5시간 (약 1.6일)</td>
                </tr>
                <tr>
                    <td>Deployment Frequency</td>
                    <td>0.7회/일 (거의 매일)</td>
                </tr>
                <tr>
                    <td>Change Failure Rate</td>
                    <td>5%</td>
                </tr>
                <tr>
                    <td>Mean Time to Restore</td>
                    <td>1.8시간</td>
                </tr>
            </table>
        </div>
        
        <div class="repo-card">
            <h3>wbkd/react-flow</h3>
            <table>
                <tr>
                    <th>측정 항목</th>
                    <th>값</th>
                </tr>
                <tr>
                    <td>Lead Time for Changes</td>
                    <td>56.3시간 (약 2.3일)</td>
                </tr>
                <tr>
                    <td>Deployment Frequency</td>
                    <td>0.6회/일 (2일마다)</td>
                </tr>
                <tr>
                    <td>Change Failure Rate</td>
                    <td>7%</td>
                </tr>
                <tr>
                    <td>Mean Time to Restore</td>
                    <td>3.0시간</td>
                </tr>
            </table>
        </div>
        
        <div class="repo-card">
            <h3>vitest-dev/vitest</h3>
            <table>
                <tr>
                    <th>측정 항목</th>
                    <th>값</th>
                </tr>
                <tr>
                    <td>Lead Time for Changes</td>
                    <td>48.2시간 (약 2.0일)</td>
                </tr>
                <tr>
                    <td>Deployment Frequency</td>
                    <td>0.5회/일 (격일)</td>
                </tr>
                <tr>
                    <td>Change Failure Rate</td>
                    <td>6.5%</td>
                </tr>
                <tr>
                    <td>Mean Time to Restore</td>
                    <td>2.7시간</td>
                </tr>
            </table>
        </div>
        
        <div class="repo-card">
            <h3>facebook/react</h3>
            <table>
                <tr>
                    <th>측정 항목</th>
                    <th>값</th>
                </tr>
                <tr>
                    <td>Lead Time for Changes</td>
                    <td>72.3시간 (약 3일)</td>
                </tr>
                <tr>
                    <td>Deployment Frequency</td>
                    <td>0.5회/일 (격일)</td>
                </tr>
                <tr>
                    <td>Change Failure Rate</td>
                    <td>8%</td>
                </tr>
                <tr>
                    <td>Mean Time to Restore</td>
                    <td>2.1시간</td>
                </tr>
            </table>
        </div>
    </div>
    
    <div class="card" style="margin-top: 20px;">
        <h2>사용 지침</h2>
        <div class="alert" style="background-color: #e7f3ff; border-left: 4px solid #1a73e8; padding: 15px; margin-bottom: 15px;">
            <p><strong>중요:</strong> 테스트 데이터는 <strong>2024년 1월 1일</strong>부터 <strong>2025년 3월 15일</strong>까지의 날짜 범위로 주입됩니다.</p>
            <p>대시보드에서 캐시된 데이터를 사용하려면 <strong>반드시 이 날짜 범위를 정확히 선택</strong>해야 합니다.</p>
        </div>
        <ol>
            <li>아래 "테스트 데이터 주입하기" 버튼을 클릭하여 테스트 데이터를 로컬 스토리지에 저장합니다.</li>
            <li>대시보드로 돌아가 "n8n-io/n8n", "docmost/docmost", "wbkd/react-flow", "vitest-dev/vitest", "facebook/react" 저장소를 선택합니다.</li>
            <li><strong>시작일을 2024년 1월 1일로, 종료일을 2025년 3월 15일로 설정</strong>합니다.</li>
            <li>"캐시 확인 후 새로고침" 옵션을 사용하여 테스트 데이터를 로드합니다.</li>
        </ol>
    </div>
    
    <script>
        // 테스트 데이터 생성 (원하는 값으로 수정할 수 있습니다)
        const data = {
            // n8n-io/n8n 저장소 데이터
            'n8n-io/n8n': {
                metrics: {
                    leadTimeForChanges: 45.7, // 시간
                    deploymentFrequency: 0.8, // 하루당 배포 횟수
                    changeFailureRate: 6, // 퍼센트
                    meanTimeToRestore: 2.5 // 시간
                },
                events: {
                    deployments: [
                        // 2024년 1월 1일부터 2025년 3월 15일까지의 배포 이벤트
                        // 날짜는 ISO 형식으로 작성합니다
                        { timestamp: '2024-01-02T14:25:00Z', version: 'v1.0.1' },
                        { timestamp: '2024-01-05T10:15:00Z', version: 'v1.0.2' },
                        { timestamp: '2024-01-10T09:30:00Z', version: 'v1.1.0' },
                        { timestamp: '2024-01-13T16:45:00Z', version: 'v1.1.1' },
                        { timestamp: '2024-01-18T11:20:00Z', version: 'v1.2.0' },
                        { timestamp: '2024-01-25T15:10:00Z', version: 'v1.2.1' },
                        { timestamp: '2024-02-01T13:40:00Z', version: 'v1.3.0' },
                        { timestamp: '2024-02-08T10:55:00Z', version: 'v1.3.1' },
                        { timestamp: '2024-02-15T14:30:00Z', version: 'v1.4.0' },
                        { timestamp: '2024-02-22T12:15:00Z', version: 'v1.5.0' },
                        { timestamp: '2024-02-29T09:50:00Z', version: 'v1.5.1' },
                        { timestamp: '2024-03-05T16:20:00Z', version: 'v1.6.0' },
                        { timestamp: '2024-03-12T11:05:00Z', version: 'v1.6.1' },
                        // 2025년 3월 데이터 추가
                        { timestamp: '2025-03-03T13:30:00Z', version: 'v2.8.0' },
                        { timestamp: '2025-03-10T10:45:00Z', version: 'v2.8.1' }
                    ],
                    incidents: [
                        // 2024년 1월 1일부터 2025년 3월 15일까지의 인시던트 이벤트
                        { start: '2024-01-07T08:30:00Z', end: '2024-01-07T10:45:00Z', severity: 'medium' },
                        { start: '2024-01-20T15:20:00Z', end: '2024-01-20T18:10:00Z', severity: 'high' },
                        { start: '2024-02-05T09:15:00Z', end: '2024-02-05T11:30:00Z', severity: 'low' },
                        { start: '2024-02-18T14:40:00Z', end: '2024-02-18T16:50:00Z', severity: 'medium' },
                        { start: '2024-03-03T12:10:00Z', end: '2024-03-03T13:55:00Z', severity: 'medium' },
                        // 2025년 3월 데이터 추가
                        { start: '2025-03-05T11:20:00Z', end: '2025-03-05T13:45:00Z', severity: 'low' },
                        { start: '2025-03-12T14:30:00Z', end: '2025-03-12T16:15:00Z', severity: 'medium' }
                    ]
                },
                // 매일의 리드 타임 데이터
                leadTimeData: [
                    { date: '2024-01-01', value: 46.2 },
                    { date: '2024-01-15', value: 45.1 },
                    { date: '2024-02-01', value: 47.3 },
                    { date: '2024-02-15', value: 44.8 },
                    { date: '2024-03-01', value: 45.0 },
                    // 2025년 3월 데이터 추가
                    { date: '2025-03-01', value: 44.5 },
                    { date: '2025-03-15', value: 45.2 }
                ],
                // 매일의 MTTR 데이터
                mttrData: [
                    { date: '2024-01-07', value: 2.3 },
                    { date: '2024-01-20', value: 2.8 },
                    { date: '2024-02-05', value: 2.2 },
                    { date: '2024-02-18', value: 2.5 },
                    { date: '2024-03-03', value: 2.7 },
                    // 2025년 3월 데이터 추가
                    { date: '2025-03-05', value: 2.4 },
                    { date: '2025-03-12', value: 2.6 }
                ],
                // 배포 빈도 데이터
                deploymentFrequencyData: [
                    { date: '2024-01-01', count: 0 },
                    { date: '2024-01-02', count: 1 },
                    { date: '2024-01-05', count: 1 },
                    { date: '2024-01-10', count: 1 },
                    { date: '2024-01-13', count: 1 },
                    { date: '2024-01-18', count: 1 },
                    { date: '2024-01-25', count: 1 },
                    { date: '2024-02-01', count: 1 },
                    { date: '2024-02-08', count: 1 },
                    { date: '2024-02-15', count: 1 },
                    { date: '2024-02-22', count: 1 },
                    { date: '2024-02-29', count: 1 },
                    { date: '2024-03-05', count: 1 },
                    { date: '2024-03-12', count: 1 },
                    // 2025년 3월 데이터 추가
                    { date: '2025-03-03', count: 1 },
                    { date: '2025-03-10', count: 1 }
                ],
                // 변경 실패율 데이터
                changeFailureRateData: [
                    { date: '2024-01-07', rate: 7.1 },
                    { date: '2024-01-20', rate: 6.5 },
                    { date: '2024-02-05', rate: 5.8 },
                    { date: '2024-02-18', rate: 6.2 },
                    { date: '2024-03-03', rate: 6.0 },
                    // 2025년 3월 데이터 추가
                    { date: '2025-03-05', rate: 5.9 },
                    { date: '2025-03-12', rate: 6.3 }
                ]
            },
            
            // docmost/docmost 저장소 데이터
            'docmost/docmost': {
                metrics: {
                    leadTimeForChanges: 38.5, // 시간
                    deploymentFrequency: 0.7, // 하루당 배포 횟수
                    changeFailureRate: 5, // 퍼센트
                    meanTimeToRestore: 1.8 // 시간
                },
                events: {
                    deployments: [
                        // 2024년 1월 1일부터 2025년 3월 15일까지의 배포 이벤트
                        { timestamp: '2024-01-03T11:20:00Z', version: 'v2.0.1' },
                        { timestamp: '2024-01-08T14:35:00Z', version: 'v2.0.2' },
                        { timestamp: '2024-01-15T09:10:00Z', version: 'v2.1.0' },
                        { timestamp: '2024-01-22T16:25:00Z', version: 'v2.1.1' },
                        { timestamp: '2024-01-29T13:45:00Z', version: 'v2.2.0' },
                        { timestamp: '2024-02-05T10:30:00Z', version: 'v2.2.1' },
                        { timestamp: '2024-02-12T15:20:00Z', version: 'v2.3.0' },
                        { timestamp: '2024-02-19T11:55:00Z', version: 'v2.3.1' },
                        { timestamp: '2024-02-26T14:15:00Z', version: 'v2.4.0' },
                        { timestamp: '2024-03-04T12:40:00Z', version: 'v2.4.1' },
                        { timestamp: '2024-03-11T09:25:00Z', version: 'v2.5.0' },
                        // 2025년 3월 데이터 추가
                        { timestamp: '2025-03-02T10:40:00Z', version: 'v3.7.0' },
                        { timestamp: '2025-03-09T13:15:00Z', version: 'v3.7.1' },
                        { timestamp: '2025-03-14T11:30:00Z', version: 'v3.8.0' }
                    ],
                    incidents: [
                        // 2024년 1월 1일부터 2025년 3월 15일까지의 인시던트 이벤트
                        { start: '2024-01-10T13:15:00Z', end: '2024-01-10T15:00:00Z', severity: 'low' },
                        { start: '2024-01-25T10:40:00Z', end: '2024-01-25T12:20:00Z', severity: 'medium' },
                        { start: '2024-02-08T16:05:00Z', end: '2024-02-08T17:50:00Z', severity: 'low' },
                        { start: '2024-02-22T11:30:00Z', end: '2024-02-22T13:10:00Z', severity: 'medium' },
                        { start: '2024-03-07T14:45:00Z', end: '2024-03-07T16:30:00Z', severity: 'low' },
                        // 2025년 3월 데이터 추가
                        { start: '2025-03-06T09:20:00Z', end: '2025-03-06T11:00:00Z', severity: 'low' },
                        { start: '2025-03-13T14:10:00Z', end: '2025-03-13T15:45:00Z', severity: 'medium' }
                    ]
                },
                // 매일의 리드 타임 데이터
                leadTimeData: [
                    { date: '2024-01-01', value: 39.1 },
                    { date: '2024-01-15', value: 38.3 },
                    { date: '2024-02-01', value: 38.8 },
                    { date: '2024-02-15', value: 37.9 },
                    { date: '2024-03-01', value: 38.4 },
                    // 2025년 3월 데이터 추가
                    { date: '2025-03-01', value: 38.0 },
                    { date: '2025-03-15', value: 37.6 }
                ],
                // 매일의 MTTR 데이터
                mttrData: [
                    { date: '2024-01-10', value: 1.7 },
                    { date: '2024-01-25', value: 1.9 },
                    { date: '2024-02-08', value: 1.8 },
                    { date: '2024-02-22', value: 1.6 },
                    { date: '2024-03-07', value: 2.0 },
                    // 2025년 3월 데이터 추가
                    { date: '2025-03-06', value: 1.7 },
                    { date: '2025-03-13', value: 1.9 }
                ],
                // 배포 빈도 데이터
                deploymentFrequencyData: [
                    { date: '2024-01-01', count: 0 },
                    { date: '2024-01-03', count: 1 },
                    { date: '2024-01-08', count: 1 },
                    { date: '2024-01-15', count: 1 },
                    { date: '2024-01-22', count: 1 },
                    { date: '2024-01-29', count: 1 },
                    { date: '2024-02-05', count: 1 },
                    { date: '2024-02-12', count: 1 },
                    { date: '2024-02-19', count: 1 },
                    { date: '2024-02-26', count: 1 },
                    { date: '2024-03-04', count: 1 },
                    { date: '2024-03-11', count: 1 },
                    // 2025년 3월 데이터 추가
                    { date: '2025-03-02', count: 1 },
                    { date: '2025-03-09', count: 1 },
                    { date: '2025-03-14', count: 1 }
                ],
                // 변경 실패율 데이터
                changeFailureRateData: [
                    { date: '2024-01-10', rate: 5.3 },
                    { date: '2024-01-25', rate: 4.8 },
                    { date: '2024-02-08', rate: 5.1 },
                    { date: '2024-02-22', rate: 4.9 },
                    { date: '2024-03-07', rate: 5.2 },
                    // 2025년 3월 데이터 추가
                    { date: '2025-03-06', rate: 5.0 },
                    { date: '2025-03-13', rate: 4.7 }
                ]
            },
            
            // wbkd/react-flow 저장소 데이터
            'wbkd/react-flow': {
                metrics: {
                    leadTimeForChanges: 56.3, // 시간
                    deploymentFrequency: 0.6, // 하루당 배포 횟수
                    changeFailureRate: 7, // 퍼센트
                    meanTimeToRestore: 3.0 // 시간
                },
                events: {
                    deployments: [
                        // 2024년 1월 1일부터 2025년 3월 15일까지의 배포 이벤트
                        { timestamp: '2024-01-05T15:30:00Z', version: 'v11.5.0' },
                        { timestamp: '2024-01-12T11:45:00Z', version: 'v11.5.1' },
                        { timestamp: '2024-01-19T14:20:00Z', version: 'v11.6.0' },
                        { timestamp: '2024-01-26T10:10:00Z', version: 'v11.6.1' },
                        { timestamp: '2024-02-02T16:35:00Z', version: 'v11.7.0' },
                        { timestamp: '2024-02-09T13:50:00Z', version: 'v11.7.1' },
                        { timestamp: '2024-02-16T09:25:00Z', version: 'v11.8.0' },
                        { timestamp: '2024-02-23T15:40:00Z', version: 'v11.8.1' },
                        { timestamp: '2024-03-01T12:15:00Z', version: 'v11.9.0' },
                        { timestamp: '2024-03-08T09:30:00Z', version: 'v11.9.1' },
                        // 2025년 3월 데이터 추가
                        { timestamp: '2025-03-04T14:20:00Z', version: 'v12.8.0' },
                        { timestamp: '2025-03-11T11:35:00Z', version: 'v12.8.1' }
                    ],
                    incidents: [
                        // 2024년 1월 1일부터 2025년 3월 15일까지의 인시던트 이벤트
                        { start: '2024-01-15T10:20:00Z', end: '2024-01-15T13:45:00Z', severity: 'high' },
                        { start: '2024-01-30T14:10:00Z', end: '2024-01-30T17:30:00Z', severity: 'medium' },
                        { start: '2024-02-12T09:50:00Z', end: '2024-02-12T12:35:00Z', severity: 'low' },
                        { start: '2024-02-28T13:25:00Z', end: '2024-02-28T16:10:00Z', severity: 'high' },
                        { start: '2024-03-10T11:40:00Z', end: '2024-03-10T14:25:00Z', severity: 'medium' },
                        // 2025년 3월 데이터 추가
                        { start: '2025-03-07T13:15:00Z', end: '2025-03-07T16:40:00Z', severity: 'high' },
                        { start: '2025-03-14T10:25:00Z', end: '2025-03-14T12:50:00Z', severity: 'medium' }
                    ]
                },
                // 매일의 리드 타임 데이터
                leadTimeData: [
                    { date: '2024-01-01', value: 57.1 },
                    { date: '2024-01-15', value: 56.5 },
                    { date: '2024-02-01', value: 55.8 },
                    { date: '2024-02-15', value: 56.2 },
                    { date: '2024-03-01', value: 55.9 },
                    // 2025년 3월 데이터 추가
                    { date: '2025-03-01', value: 56.5 },
                    { date: '2025-03-15', value: 55.6 }
                ],
                // 매일의 MTTR 데이터
                mttrData: [
                    { date: '2024-01-15', value: 3.4 },
                    { date: '2024-01-30', value: 3.1 },
                    { date: '2024-02-12', value: 2.8 },
                    { date: '2024-02-28', value: 3.2 },
                    { date: '2024-03-10', value: 2.9 },
                    // 2025년 3월 데이터 추가
                    { date: '2025-03-07', value: 3.5 },
                    { date: '2025-03-14', value: 3.0 }
                ],
                // 배포 빈도 데이터
                deploymentFrequencyData: [
                    { date: '2024-01-01', count: 0 },
                    { date: '2024-01-05', count: 1 },
                    { date: '2024-01-12', count: 1 },
                    { date: '2024-01-19', count: 1 },
                    { date: '2024-01-26', count: 1 },
                    { date: '2024-02-02', count: 1 },
                    { date: '2024-02-09', count: 1 },
                    { date: '2024-02-16', count: 1 },
                    { date: '2024-02-23', count: 1 },
                    { date: '2024-03-01', count: 1 },
                    { date: '2024-03-08', count: 1 },
                    // 2025년 3월 데이터 추가
                    { date: '2025-03-04', count: 1 },
                    { date: '2025-03-11', count: 1 }
                ],
                // 변경 실패율 데이터
                changeFailureRateData: [
                    { date: '2024-01-15', rate: 7.6 },
                    { date: '2024-01-30', rate: 7.2 },
                    { date: '2024-02-12', rate: 6.8 },
                    { date: '2024-02-28', rate: 7.3 },
                    { date: '2024-03-10', rate: 7.0 },
                    // 2025년 3월 데이터 추가
                    { date: '2025-03-07', rate: 7.4 },
                    { date: '2025-03-14', rate: 6.9 }
                ]
            },
            
            // vitest-dev/vitest 저장소 데이터
            'vitest-dev/vitest': {
                metrics: {
                    leadTimeForChanges: 48.2, // 시간
                    deploymentFrequency: 0.5, // 하루당 배포 횟수
                    changeFailureRate: 6.5, // 퍼센트
                    meanTimeToRestore: 2.7 // 시간
                },
                events: {
                    deployments: [
                        // 2024년 1월 1일부터 2025년 3월 15일까지의 배포 이벤트
                        { timestamp: '2024-01-08T12:40:00Z', version: 'v3.0.0' },
                        { timestamp: '2024-01-16T09:15:00Z', version: 'v3.0.1' },
                        { timestamp: '2024-01-24T14:30:00Z', version: 'v3.1.0' },
                        { timestamp: '2024-02-01T11:20:00Z', version: 'v3.1.1' },
                        { timestamp: '2024-02-09T15:45:00Z', version: 'v3.2.0' },
                        { timestamp: '2024-02-17T10:10:00Z', version: 'v3.2.1' },
                        { timestamp: '2024-02-25T13:35:00Z', version: 'v3.3.0' },
                        { timestamp: '2024-03-04T16:25:00Z', version: 'v3.3.1' },
                        { timestamp: '2024-03-12T09:50:00Z', version: 'v3.4.0' },
                        // 2025년 3월 데이터 추가
                        { timestamp: '2025-03-05T13:10:00Z', version: 'v4.7.0' },
                        { timestamp: '2025-03-13T10:25:00Z', version: 'v4.7.1' }
                    ],
                    incidents: [
                        // 2024년 1월 1일부터 2025년 3월 15일까지의 인시던트 이벤트
                        { start: '2024-01-12T11:30:00Z', end: '2024-01-12T14:10:00Z', severity: 'medium' },
                        { start: '2024-01-28T15:20:00Z', end: '2024-01-28T17:55:00Z', severity: 'low' },
                        { start: '2024-02-05T10:45:00Z', end: '2024-02-05T13:25:00Z', severity: 'high' },
                        { start: '2024-02-20T14:15:00Z', end: '2024-02-20T16:40:00Z', severity: 'medium' },
                        { start: '2024-03-08T09:10:00Z', end: '2024-03-08T11:35:00Z', severity: 'low' },
                        // 2025년 3월 데이터 추가
                        { start: '2025-03-08T11:45:00Z', end: '2025-03-08T14:30:00Z', severity: 'medium' },
                        { start: '2025-03-15T09:20:00Z', end: '2025-03-15T11:40:00Z', severity: 'low' }
                    ]
                },
                // 매일의 리드 타임 데이터
                leadTimeData: [
                    { date: '2024-01-01', value: 48.9 },
                    { date: '2024-01-15', value: 48.3 },
                    { date: '2024-02-01', value: 47.7 },
                    { date: '2024-02-15', value: 48.4 },
                    { date: '2024-03-01', value: 47.9 },
                    // 2025년 3월 데이터 추가
                    { date: '2025-03-01', value: 48.1 },
                    { date: '2025-03-15', value: 47.5 }
                ],
                // 매일의 MTTR 데이터
                mttrData: [
                    { date: '2024-01-12', value: 2.6 },
                    { date: '2024-01-28', value: 2.9 },
                    { date: '2024-02-05', value: 2.5 },
                    { date: '2024-02-20', value: 2.8 },
                    { date: '2024-03-08', value: 2.7 },
                    // 2025년 3월 데이터 추가
                    { date: '2025-03-08', value: 2.6 },
                    { date: '2025-03-15', value: 2.4 }
                ],
                // 배포 빈도 데이터
                deploymentFrequencyData: [
                    { date: '2024-01-01', count: 0 },
                    { date: '2024-01-08', count: 1 },
                    { date: '2024-01-16', count: 1 },
                    { date: '2024-01-24', count: 1 },
                    { date: '2024-02-01', count: 1 },
                    { date: '2024-02-09', count: 1 },
                    { date: '2024-02-17', count: 1 },
                    { date: '2024-02-25', count: 1 },
                    { date: '2024-03-04', count: 1 },
                    { date: '2024-03-12', count: 1 },
                    // 2025년 3월 데이터 추가
                    { date: '2025-03-05', count: 1 },
                    { date: '2025-03-13', count: 1 }
                ],
                // 변경 실패율 데이터
                changeFailureRateData: [
                    { date: '2024-01-12', rate: 6.7 },
                    { date: '2024-01-28', rate: 6.3 },
                    { date: '2024-02-05', rate: 6.9 },
                    { date: '2024-02-20', rate: 6.4 },
                    { date: '2024-03-08', rate: 6.1 },
                    // 2025년 3월 데이터 추가
                    { date: '2025-03-08', rate: 6.6 },
                    { date: '2025-03-15', rate: 6.2 }
                ]
            },
            
            // facebook/react 저장소 데이터
            'facebook/react': {
                metrics: {
                    leadTimeForChanges: 72.3, // 시간
                    deploymentFrequency: 0.5, // 하루당 배포 횟수
                    changeFailureRate: 8, // 퍼센트
                    meanTimeToRestore: 2.1 // 시간
                },
                events: {
                    deployments: [
                        // 2024년 1월 1일부터 2025년 3월 15일까지의 배포 이벤트
                        { timestamp: '2024-01-10T13:20:00Z', version: 'v18.3.0' },
                        { timestamp: '2024-01-20T10:45:00Z', version: 'v18.3.1' },
                        { timestamp: '2024-01-30T15:10:00Z', version: 'v18.4.0' },
                        { timestamp: '2024-02-09T12:30:00Z', version: 'v18.4.1' },
                        { timestamp: '2024-02-19T09:55:00Z', version: 'v18.5.0' },
                        { timestamp: '2024-02-29T14:40:00Z', version: 'v18.5.1' },
                        { timestamp: '2024-03-10T11:15:00Z', version: 'v18.6.0' },
                        // 2025년 3월 데이터 추가
                        { timestamp: '2025-03-01T13:25:00Z', version: 'v19.5.0' },
                        { timestamp: '2025-03-11T10:15:00Z', version: 'v19.5.1' }
                    ],
                    incidents: [
                        // 2024년 1월 1일부터 2025년 3월 15일까지의 인시던트 이벤트
                        { start: '2024-01-15T09:30:00Z', end: '2024-01-15T11:45:00Z', severity: 'medium' },
                        { start: '2024-01-25T14:20:00Z', end: '2024-01-25T16:15:00Z', severity: 'low' },
                        { start: '2024-02-04T11:10:00Z', end: '2024-02-04T13:25:00Z', severity: 'high' },
                        { start: '2024-02-14T16:05:00Z', end: '2024-02-14T18:15:00Z', severity: 'medium' },
                        { start: '2024-02-24T10:40:00Z', end: '2024-02-24T12:55:00Z', severity: 'low' },
                        { start: '2024-03-05T15:30:00Z', end: '2024-03-05T17:25:00Z', severity: 'medium' },
                        // 2025년 3월 데이터 추가
                        { start: '2025-03-05T12:20:00Z', end: '2025-03-05T14:30:00Z', severity: 'low' },
                        { start: '2025-03-15T09:45:00Z', end: '2025-03-15T11:55:00Z', severity: 'high' }
                    ]
                },
                // 매일의 리드 타임 데이터
                leadTimeData: [
                    { date: '2024-01-01', value: 73.1 },
                    { date: '2024-01-15', value: 72.5 },
                    { date: '2024-02-01', value: 71.8 },
                    { date: '2024-02-15', value: 72.6 },
                    { date: '2024-03-01', value: 71.9 },
                    // 2025년 3월 데이터 추가
                    { date: '2025-03-01', value: 72.0 },
                    { date: '2025-03-15', value: 71.5 }
                ],
                // 매일의 MTTR 데이터
                mttrData: [
                    { date: '2024-01-15', value: 2.3 },
                    { date: '2024-01-25', value: 1.9 },
                    { date: '2024-02-04', value: 2.4 },
                    { date: '2024-02-14', value: 2.2 },
                    { date: '2024-02-24', value: 2.0 },
                    { date: '2024-03-05', value: 2.1 },
                    // 2025년 3월 데이터 추가
                    { date: '2025-03-05', value: 2.2 },
                    { date: '2025-03-15', value: 2.1 }
                ],
                // 배포 빈도 데이터
                deploymentFrequencyData: [
                    { date: '2024-01-01', count: 0 },
                    { date: '2024-01-10', count: 1 },
                    { date: '2024-01-20', count: 1 },
                    { date: '2024-01-30', count: 1 },
                    { date: '2024-02-09', count: 1 },
                    { date: '2024-02-19', count: 1 },
                    { date: '2024-02-29', count: 1 },
                    { date: '2024-03-10', count: 1 },
                    // 2025년 3월 데이터 추가
                    { date: '2025-03-01', count: 1 },
                    { date: '2025-03-11', count: 1 }
                ],
                // 변경 실패율 데이터
                changeFailureRateData: [
                    { date: '2024-01-15', rate: 8.3 },
                    { date: '2024-01-25', rate: 7.8 },
                    { date: '2024-02-04', rate: 8.5 },
                    { date: '2024-02-14', rate: 8.1 },
                    { date: '2024-02-24', rate: 7.7 },
                    { date: '2024-03-05', rate: 8.2 },
                    // 2025년 3월 데이터 추가
                    { date: '2025-03-05', rate: 7.9 },
                    { date: '2025-03-15', rate: 8.0 }
                ]
            }
        };

        // 로컬 스토리지 키 생성 함수
        function generateCacheKey(repo, metric, startDate, endDate) {
            return `beaver_${repo}_${metric}_${startDate}_${endDate}`;
        }

        // 테스트 데이터 주입 함수
        function injectTestData() {
            // 날짜 범위 설정 - 2024년 1월 1일부터 2025년 3월 1일까지
            const startDate = '2024-01-01';
            const endDate = '2025-03-15';
            
            // 각 저장소별로 데이터 저장
            for (const repo in data) {
                const repoData = data[repo];
                
                // pull_request_data 저장
                const pullRequestsKey = generateCacheKey(repo, 'pull_requests', startDate, endDate);
                localStorage.setItem(pullRequestsKey, JSON.stringify([]));
                
                // deployments 저장
                const deploymentsKey = generateCacheKey(repo, 'deployments', startDate, endDate);
                localStorage.setItem(deploymentsKey, JSON.stringify(repoData.events.deployments));
                
                // incidents 저장
                const incidentsKey = generateCacheKey(repo, 'incidents', startDate, endDate);
                localStorage.setItem(incidentsKey, JSON.stringify(repoData.events.incidents));
                
                // lead_time 저장
                const leadTimeKey = generateCacheKey(repo, 'lead_time', startDate, endDate);
                localStorage.setItem(leadTimeKey, JSON.stringify(repoData.leadTimeData));
                
                // mttr 저장
                const mttrKey = generateCacheKey(repo, 'mttr', startDate, endDate);
                localStorage.setItem(mttrKey, JSON.stringify(repoData.mttrData));
                
                // deployment_frequency 저장
                const dfKey = generateCacheKey(repo, 'deployment_frequency', startDate, endDate);
                localStorage.setItem(dfKey, JSON.stringify(repoData.deploymentFrequencyData));
                
                // change_failure_rate 저장
                const cfrKey = generateCacheKey(repo, 'change_failure_rate', startDate, endDate);
                localStorage.setItem(cfrKey, JSON.stringify(repoData.changeFailureRateData));
                
                // metrics 저장
                const metricsKey = generateCacheKey(repo, 'metrics', startDate, endDate);
                localStorage.setItem(metricsKey, JSON.stringify(repoData.metrics));
            }
            
            // 성공 메시지 표시
            const statusDiv = document.getElementById('status');
            statusDiv.innerHTML = `
                <div class="alert" style="background-color: #d4edda; border-left: 4px solid #28a745; padding: 15px; margin-bottom: 15px;">
                    <p><strong>성공:</strong> 테스트 데이터가 성공적으로 주입되었습니다!</p>
                    <p>이제 대시보드로 돌아가서 다음 저장소를 선택할 수 있습니다: n8n-io/n8n, docmost/docmost, wbkd/react-flow, vitest-dev/vitest, facebook/react</p>
                    <p><strong>주의:</strong> 캐시 히트를 위해 정확히 다음 날짜 범위를 선택하세요: <strong>2024년 1월 1일</strong> - <strong>2025년 3월 15일</strong></p>
                </div>
            `;
        }

        // 캐시 지우기 함수
        function clearCache() {
            // 'beaver_'로 시작하는 모든 로컬 스토리지 항목 제거
            Object.keys(localStorage).forEach(key => {
                if (key.startsWith('beaver_')) {
                    localStorage.removeItem(key);
                }
            });
            
            // 성공 메시지 표시
            const statusDiv = document.getElementById('status');
            statusDiv.innerHTML = `
                <div class="alert" style="background-color: #d4edda; border-left: 4px solid #28a745; padding: 15px; margin-bottom: 15px;">
                    <p><strong>성공:</strong> 캐시가 성공적으로 지워졌습니다!</p>
                </div>
            `;
        }
    </script>
</body>
</html>